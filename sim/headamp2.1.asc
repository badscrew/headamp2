Version 4
SHEET 1 1268 680
WIRE -448 -912 -640 -912
WIRE -272 -912 -448 -912
WIRE -208 -912 -272 -912
WIRE -64 -912 -128 -912
WIRE 48 -912 -64 -912
WIRE 240 -912 48 -912
WIRE 560 -912 240 -912
WIRE -448 -896 -448 -912
WIRE -640 -880 -640 -912
WIRE -64 -880 -64 -912
WIRE -272 -864 -272 -912
WIRE 560 -864 560 -912
WIRE 48 -800 48 -912
WIRE 560 -768 560 -784
WIRE -64 -752 -64 -800
WIRE -16 -752 -64 -752
WIRE -640 -736 -640 -800
WIRE -640 -736 -672 -736
WIRE 240 -720 240 -912
WIRE -640 -704 -640 -736
WIRE -528 -704 -640 -704
WIRE -496 -704 -528 -704
WIRE -400 -704 -432 -704
WIRE -368 -704 -400 -704
WIRE -272 -704 -272 -784
WIRE -272 -704 -288 -704
WIRE -208 -704 -272 -704
WIRE -64 -704 -64 -752
WIRE -64 -704 -144 -704
WIRE 48 -672 48 -704
WIRE 176 -672 48 -672
WIRE -528 -656 -528 -704
WIRE 48 -640 48 -672
WIRE 64 -640 48 -640
WIRE -272 -624 -272 -704
WIRE -256 -624 -272 -624
WIRE -912 -608 -912 -640
WIRE -912 -608 -1056 -608
WIRE -864 -608 -912 -608
WIRE -752 -608 -784 -608
WIRE -640 -592 -640 -704
WIRE -272 -592 -272 -624
WIRE -64 -592 -64 -704
WIRE 48 -592 48 -640
WIRE 240 -576 240 -624
WIRE 320 -576 320 -592
WIRE 320 -576 240 -576
WIRE 352 -576 320 -576
WIRE 480 -576 416 -576
WIRE 544 -576 480 -576
WIRE -1056 -560 -1056 -608
WIRE -528 -544 -528 -576
WIRE -528 -544 -576 -544
WIRE -400 -544 -400 -704
WIRE -336 -544 -400 -544
WIRE 480 -544 480 -576
WIRE 240 -512 240 -576
WIRE 240 -512 160 -512
WIRE 48 -464 48 -512
WIRE 96 -464 48 -464
WIRE 240 -464 240 -512
WIRE -896 -448 -896 -480
WIRE -896 -448 -912 -448
WIRE -864 -448 -896 -448
WIRE -752 -448 -752 -608
WIRE -752 -448 -784 -448
WIRE -720 -448 -752 -448
WIRE -640 -448 -640 -496
WIRE -640 -448 -656 -448
WIRE -1056 -432 -1056 -480
WIRE 176 -416 160 -416
WIRE -640 -400 -640 -448
WIRE -272 -400 -272 -496
WIRE 48 -400 48 -464
WIRE -912 -384 -912 -448
WIRE -528 -384 -528 -544
WIRE -640 -272 -640 -320
WIRE -528 -272 -528 -320
WIRE -528 -272 -640 -272
WIRE -272 -272 -272 -320
WIRE -272 -272 -528 -272
WIRE -64 -272 -64 -512
WIRE -64 -272 -272 -272
WIRE 16 -272 -64 -272
WIRE 48 -272 48 -320
WIRE 48 -272 16 -272
WIRE 240 -272 240 -368
WIRE 240 -272 48 -272
WIRE 480 -272 480 -464
WIRE 480 -272 240 -272
WIRE -912 -256 -912 -304
WIRE 16 -256 16 -272
FLAG 560 -768 0
FLAG 16 -256 0
FLAG 544 -576 Out1
IOPIN 544 -576 Out
FLAG -912 -256 0
FLAG 320 -592 out
IOPIN 320 -592 Out
FLAG -448 -832 0
FLAG -896 -480 inA
IOPIN -896 -480 In
FLAG -672 -736 1
IOPIN -672 -736 BiDir
FLAG -256 -624 2
IOPIN -256 -624 BiDir
FLAG 64 -640 3
IOPIN 64 -640 BiDir
FLAG -1056 -432 0
FLAG -912 -640 inB
IOPIN -912 -640 In
SYMBOL voltage 560 -768 R180
WINDOW 123 0 0 Left 2
WINDOW 39 24 -12 Left 2
SYMATTR InstName V2
SYMATTR Value 9V
SYMBOL pnp 176 -720 R0
WINDOW 0 84 -2 Left 2
WINDOW 3 89 35 Left 2
SYMATTR InstName Q4
SYMATTR Value mp41
SYMBOL polcap 416 -592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 470µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=25 Irms=470m Rser=0.16 Lser=0 mfg="Nichicon" pn="UPR1E471MPH" type="Al electrolytic"
SYMBOL res 32 -416 R0
SYMATTR InstName R11
SYMATTR Value 1K
SYMBOL voltage -912 -400 R0
WINDOW 39 -74 150 Left 2
WINDOW 3 -74 122 Left 2
WINDOW 0 -51 -9 Left 2
SYMATTR SpiceLine Rser=500
SYMATTR Value SINE(0 .2V 1000)
SYMATTR InstName V3
SYMATTR Value2 AC 1
SYMBOL res 464 -560 R0
SYMATTR InstName Rout
SYMATTR Value 30
SYMBOL res 32 -608 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL pnp -16 -800 R0
SYMATTR InstName Q3
SYMATTR Value mp41
SYMBOL res -80 -896 R0
SYMATTR InstName R2
SYMATTR Value 33K
SYMBOL res -112 -928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 40 54 VTop 2
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL pnp -576 -592 M0
WINDOW 3 86 66 Left 2
SYMATTR Value mp41
SYMATTR InstName Q1
SYMBOL res -544 -672 R0
SYMATTR InstName R5
SYMATTR Value 220K
SYMBOL res -656 -896 R0
SYMATTR InstName R6
SYMATTR Value 22K
SYMBOL res -656 -416 R0
SYMATTR InstName R4
SYMATTR Value 1K
SYMBOL res -80 -608 R0
SYMATTR InstName R7
SYMATTR Value 100K
SYMBOL polcap -512 -320 R180
WINDOW 0 -29 62 Left 2
WINDOW 3 -49 10 Left 2
SYMATTR InstName C3
SYMATTR Value 47µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=16 Irms=85m Rser=1.8 Lser=0 mfg="Nichicon" pn="UPR1C470MAH" type="Al electrolytic"
SYMBOL res -768 -464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 2.2K
SYMBOL pnp -336 -592 R0
SYMATTR InstName Q2
SYMATTR Value mp41
SYMBOL res -288 -416 R0
SYMATTR InstName R9
SYMATTR Value 330
SYMBOL res -288 -880 R0
SYMATTR InstName R10
SYMATTR Value 4.7K
SYMBOL res -272 -720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 100K
SYMBOL npn 96 -416 M180
WINDOW 0 65 62 Left 2
WINDOW 3 48 37 Left 2
SYMATTR InstName Q5
SYMATTR Value mp37
SYMBOL pnp 176 -464 R0
WINDOW 0 73 33 Left 2
WINDOW 3 73 62 Left 2
SYMATTR InstName Q7
SYMATTR Value mp41
SYMBOL res -768 -624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 2.2K
SYMBOL voltage -1056 -576 R0
WINDOW 39 -74 150 Left 2
WINDOW 3 -74 122 Left 2
WINDOW 0 -51 -9 Left 2
SYMATTR SpiceLine Rser=500
SYMATTR Value SINE(0 .2V 10000)
SYMATTR InstName V1
SYMATTR Value2 AC 1
SYMBOL polcap -432 -832 R180
WINDOW 0 -48 53 Left 2
WINDOW 3 -71 21 Left 2
SYMATTR InstName C4
SYMATTR Value 100µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=16 Irms=85m Rser=1.8 Lser=0
SYMBOL polcap -720 -432 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 47µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=16 Irms=85m Rser=1.8 Lser=0 mfg="Nichicon" pn="UPR1C470MAH" type="Al electrolytic"
SYMBOL polcap -432 -720 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 10µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=16 Irms=85m Rser=1.8 Lser=0
SYMBOL polcap -208 -688 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 47µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=16 Irms=85m Rser=1.8 Lser=0
TEXT -616 -200 Left 2 !.tran 0 1 .98
